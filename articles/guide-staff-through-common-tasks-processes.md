---
title: Power Apps を使用したプロセスによるカスタム ビジネス ロジックの作成 | MicrosoftDocs
description: アプリで使用可能なビジネス ロジックのさまざまな種類について説明する
ms.custom: ''
ms.date: 05/01/2018
ms.reviewer: ''
ms.service: flow
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: conceptual
applies_to:
- Dynamics 365 (online)
- Dynamics 365 Version 9.x
- Power Apps
ms.assetid: 0b4e6602-5701-4859-81cc-6f6fe50901b2
caps.latest.revision: 44
author: Mattp123
ms.author: matp
manager: kvivek
search.app:
- Flow
search.audienceType:
- flowmaker
- enduser
ms.openlocfilehash: af51cc703dbb42296493237bdd25387c6c15720c
ms.sourcegitcommit: d336e5ffb6cf07e5c8fefe19a87dd7668db9e074
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/26/2020
ms.locfileid: "3298112"
---
# <a name="create-custom-business-logic-through-processes"></a>プロセスを通じてカスタム ビジネス ロジックを作成する


一貫したビジネス プロセスの定義と実施は、ユーザーがモデル駆動型アプリを使用する大きな理由の1つです。 一貫性のあるプロセスにより、システムを使用することが、一連の手動の手順を忘れずに実行することに集中するのではなく、自分たちの仕事に確実に集中することができます。 プロセスは、単純でも複雑でもよく、時間経過と共に変化してもかまいません。  
  
Power Apps にはいくつかの種類のプロセスがあり、それぞれ異なる目的のために設計されています。  
  
-   業務プロセス フロー  
  
-   モバイル タスク フロー  
  
-   ワークフロー  
  
-   操作​​  
  
 プロセスと同様に、ビジネス ルールとベスト プラクティスも作成できます。 詳しくは、「[フォームにロジックを適用するために業務ルールおよびビジネス レコメンデーションを作成する](/powerapps/maker/model-driven-apps/create-business-rules-recommendations-apply-logic-form)」をご覧ください  

> [!NOTE]
>  プロセスの使用は、Power Apps  およびフローに対するライセンス要件に影響する場合があります。 詳しくは、「[エンティティのライセンス要件](https://docs.microsoft.com/powerapps/maker/common-data-service/data-platform-entity-licenses)」をご覧ください。 


<a name="BKMK_BP"></a>   
## <a name="when-to-use-business-process-flows"></a>業務プロセス フローを使用する場合  
 顧客と対話するためにスタッフを同じステージに移動させ、同じ手順をフォローしたい場合に業務プロセス フローを使用します。 たとえば、すべての人が同じ方法で顧客サービス要求を扱うようにする場合、または担当者が受注を承認する前に送り状の承認を取得する必要がある場合、業務プロセス フローを使用します。  
  
 環境には一般的な販売、サービス、およびマーケティング関連のタスクにすぐに使用できる業務プロセス フローが含まれており、変更をほとんどまたはまったく必要としないで使用できます。 または、独自に作成することもできます。 業務プロセス フローについて詳しくは、次のトピックをご覧ください。  
  
-   [ビジネス プロセス フローの作成](create-business-process-flow.md)  
  
<a name="BKMK_WF"></a>   
## <a name="when-to-use-workflows"></a>ワークフローを使用する場合  
 背後にある業務プロセスを自動化するには、ワークフローを使用します。 ワークフローはシステム イベントによって通常開始されるため、実行されていることを認識する必要はありません。 バックグラウンドで動作するワークフローは「非同期」です。 また、ワークフローはユーザーが手動で開始できるように構成することもできます。 受注を発送するときに確認のために電子メールを自動的に送信するなどの、一般的なタスクを自動化する場合です。 リアルタイムに動作するワークフローは「同期」です。 ワークフローの詳細については、[ワークフロー プロセス](workflow-processes.md) を参照してください。  

<a name="BKMK_Actions"></a>   
## <a name="when-to-use-actions"></a>Actions を使用する場合  
 システム内の一連のコマンドを自動化する場合に Actions を使用します。 Actions により開発者がビジネス プロセスを表現するために使用できる用語が展開されます。 作成、更新、削除、および割り当てなどのコアの動詞をシステムが提供することによって、アクションはこれらのコアの動詞を使用して、承認、エスカレート、ルート、またはスケジュールなどのより意味のある動詞を作成します。 ビジネス プロセスの定義が変更された場合、開発者でないユーザーはアクションを編集することが可能であり、これによって、コードを変更する必要はありません。  アクションについて詳しくは、[アクション](create-actions.md)に関する記事をご覧ください  
  
<a name="useMSFlow"></a>   
## <a name="when-to-use-power-automate"></a>Power Automateを使用する場合  
 Power Automate は、ご利用の環境と、Dynamics 365、Twitter、Dropbox、Googleサービス、Office 365、SharePoint などのお気に入りのアプリやサービス間で実行する自動化ワークフローを作成する必要がある場合に使用します。 特定のアクションに基づいてフローをトリガーしたり、アプリ内から呼び出したりできます。 詳細については、[Power Automate を使用してサービス間のプロセスを自動化する](https://docs.microsoft.com/dynamics365/customer-engagement/basics/use-flow-automate-processes-across-services
) を参照してください  
  
<a name="BKMK_Where"></a>   
## <a name="where-do-i-go-to-create-processes"></a>プロセスを作成する場所  
 プロセスに移動するには 2 つのパスがあります。  
  
- [ソリューション エクスプローラー](/powerapps/maker/model-driven-apps/advanced-navigation#solution-explorer)を開き、**[コンポーネント] > [プロセス]** に移動します。 このパスでは、カスタマイズ ツールで他のカスタマイズ作業を行っているときのアクセスが便利です。  

- **[[設定](/powerapps/maker/model-driven-apps/advanced-navigation#settings)] > [プロセス]** に移動します。 このパスでは、カスタム ビューなど、プロセス エンティティに対して定義されているビューを使用できます。  
  
 個々の業務プロセス フローは、業務プロセス フローがアクティブな状態のフォームのコマンド バーの**プロセスの編集**ボタンを使用して編集することもできます。  
  
<a name="BKMK_WhoCreate"></a>   
## <a name="who-can-create-processes"></a>プロセスをだれが作成できるか  
 システム管理者、システム カスタマイザー、最高経営責任者のセキュリティ ロールを持つユーザーだけが、環境全体に適用されるプロセスを作成できます。 他のロールを持つユーザーは、制限付きのアクセス レベルを持つプロセスを作成できます。 たとえば、ユーザー アクセス レベルのユーザーは、所有するレコードで自身が使用するためのワークフローを作成できます。  
  
 次の表に、既定のセキュリティ ロールに基づいた、プロセスのアクセス レベルを示します。  
  
|||  
|-|-|  
|**セキュリティ ロール**|**アクセス レベル**|  
|最高経営責任者|組織 |  
|システム管理者|組織 |  
|システム カスタマイザー|組織 |  
|マーケティング部長|部署配下|  
|Sales 担当副社長|部署配下|  
| サービス課長|部署|  
|マーケティング課長|部署|  
|Sales 課長|部署 |  
|スケジュール管理者|部署 |  
|顧客サービス担当者|ユーザー |  
|マーケティング プロフェッショナル|ユーザー|  
|営業担当者|ユーザー|  
|スケジューラ|ユーザー|  
  
> [!NOTE]
>  ユーザーは業務プロセス フロー、リアルタイム ワークフロー、またはアクション プロセスを作成できるかもしれませんが、それらをアクティブ化するには、**業務プロセス フローをアクティブ化**または**リアルタイム プロセスをアクティブ化**の特権を所有している必要があります。  
  
<a name="BKMK_WhatCanProcessesDo"></a>   
## <a name="more-about-workflows-and-actions"></a>ワークフローとアクションについての詳細  
 プロセスは、条件を調べ、分岐ロジックを適用し、アクションを実行することができます。 プロセスは、これらのアクションを一連の手順で実行します。 次の表に、ワークフローおよびアクションのプロセスで使用できる手順を示します。 詳細については、各種類のプロセスのトピックを参照してください。  
  
|ステップ|プロセスの種類|内容|  
|----------|------------------|-----------------|  
|**段階**|ワークフロー、アクション|ステージは、ワークフロー ロジックを読みやすくし、またワークフロー ロジックを説明します。 ただし、ステージは、ワークフローのロジックや動作には影響しません。 プロセスにステージが存在する場合、プロセス内のすべての手順をステージに含める必要があります。|  
|**条件の確認**|ワークフロー、アクション|論理的な "if-\<condition> then" 文。<br /><br /> ワークフローが実行中のレコード、N:1 の関連付けでそのレコードにリンクされているいずれかのレコード、またはこれまでの手順によって作成された任意のレコードの値をチェックできます。 条件が `true` のとき、これらの値に基づき追加の手順を定義できます。|  
|**条件分岐**|ワークフロー、アクション|論理的な "else-if-then" 文であり、エディターはテキスト “Otherwise, if \<condition> then:” を使用します。<br /><br /> 以前に定義したチェック条件を選択し、チェック条件が `false` を返すときに、追加のステップを定義する条件分岐を追加できます。|  
|**既定の操作**|ワークフロー、アクション|論理的な "else" 文。 エディターはテキスト “Otherwise:” を使用します。<br /><br /> 以前定義したチェック条件、条件分岐、待機状態、または並列待機分岐を選択します。条件要素や分岐要素で定義した基準に適合しないすべてのケースに対して、既定のアクションを使用して手順を定義できます。|  
|**待機状態**|バックグラウンド ワークフローのみ|条件によって定義されている基準が満たされるまで、ワークフローが自身を一時停止することを可能にします。 ワークフローは、待機条件で定義されている基準が満たされると自動的に再開します。|  
|**並列待機分岐**|バックグラウンド ワークフローのみ|最初の基準が満たされたときにのみ実行される対応する一連の追加ステップを使用して、バックグラウンド ワークフローの代替の待機状態を定義します。 並列待機分岐を使用して、ワークフロー ロジックに時間制限を作成できます。 待機条件で定義されている基準が満たされるまでワークフローが無期限に待機することを防ぐのに役立ちます。|  
|**値の割り当て**|操作​​|プロセスの変数または出力パラメーターに値を設定します。|  
|**レコードの作成**|ワークフロー、アクション|エンティティの新しいレコードを作成し、値を属性に割り当てます。|  
|**レコードの更新**|ワークフロー、アクション|ワークフローが実行中のレコード、N:1 の関連付けでそのレコードにリンクされているいずれかのレコード、またはこれまでの手順によって作成された任意のレコードを更新できます。|  
|**レコードの割り当て**|ワークフロー、アクション|ワークフローが関わっているレコード、N:1 の関連付けでそのレコードにリンクされているいずれかのレコード、またはこれまでの手順によって作成された任意のレコードを割り当てることができます。|  
|**電子メールの送信**|ワークフロー、アクション|電子メールを送信します。 電子メール メッセージを新規に作成するか、あるいは、ワークフローが関わっているレコードのエンティティに対して、そのエンティティと N:1 の関連付けのある任意のエンティティに対して、またはこれまでの手順によって作成された任意のレコードのエンティティに対して、構成済みの電子メール テンプレートを使用するかを選択できます。|  
|**子ワークフローの開始**|ワークフロー、アクション|子ワークフローとして構成されたワークフロー プロセスを開始します。|  
|**状態の​​変更**|ワークフロー、アクション|プロセスが関わっているレコード、N:1 の関連付けでそのレコードにリンクされているいずれかのレコード、またはこれまでの手順によって作成された任意のレコードの状態を変更します。|  
|**ワークフローの停止**|ワークフロー、アクション|現在のワークフローまたはアクションを停止します。 **成功**または**取り消し済み**のいずれかの状態を設定し、ステータス メッセージを指定できます。|  
|**カスタム ステップ**|ワークフロー、アクション|既定で提供されている論理要素を拡張します。 ステップには、条件、アクション、他のステップ、またはこれらの要素の組み合わせを含めることができます。 開発者は、カスタム ワークフローのステップを作成できます。 既定では、カスタム ステップは使用できません。|

  

